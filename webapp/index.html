<!DOCTYPE html><!--å£°æ˜æ–‡æ¡£ç±»å‹æ˜¯HTMLï¼Œå‘Šè¯‰æµè§ˆå™¨ä»¥æ ‡å‡†æ¨¡å¼æ¸²æŸ“é¡µé¢-->
<html lang="zh-CN"><!-- HTMLæ ¹å…ƒç´ ï¼Œlangå±æ€§å£°æ˜é¡µé¢ä¸»è¦è¯­è¨€ä¸ºç®€ä½“ä¸­æ–‡ -->
<head><!-- æ–‡æ¡£å…ƒæ•°æ®åŒºåŸŸï¼ŒåŒ…å«é¡µé¢é…ç½®ä¿¡æ¯ï¼Œä¸ç›´æ¥æ˜¾ç¤º -->
  <meta charset="UTF-8"><!-- å£°æ˜å­—ç¬¦ç¼–ç æ˜¯UTF-8ï¼Œæ”¯æŒä¸­æ–‡å­—ç¬¦æ˜¾ç¤º -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0"><!-- è§†å£è®¾ç½®ï¼šå®½åº¦ç­‰äºè®¾å¤‡å®½åº¦ï¼Œåˆå§‹æ”¾ç¼©100%ï¼Œç”¨äºç§»åŠ¨ç«¯é€‚é… -->
  <title>ç¾Šæ°è®°è´¦ - ç™»å½•</title><!-- æµè§ˆå™¨é€‰é¡¹å¡ä¸Šæ˜¾ç¤ºçš„é¡µé¢æ ‡é¢˜ -->
  <style>
    /* ========== å…¨å±€æ ·å¼é‡ç½® ========== */
    * {
      margin: 0;/* æ¸…é™¤æ‰€æœ‰å…ƒç´ é»˜è®¤å¤–è¾¹è· */
      padding: 0;/* æ¸…é™¤æ‰€æœ‰å…ƒç´ é»˜è®¤å†…è¾¹è· */
      box-sizing: border-box;/* ç›’å­æ¨¡å‹è®¾ä¸ºè¾¹æ¡†è®¡ç®—ï¼šå®½é«˜åŒ…å«å†…è¾¹è·å’Œè¾¹æ¡†ï¼Œé¿å…å¸ƒå±€æº¢å‡º */
    }

    body {
      font-family: 'Microsoft YaHei', sans-serif;/* é¦–é€‰å¾®è½¯é›…é»‘ï¼Œé™çº§ä¸ºæ— è¡¬çº¿å­—ä½“ */
      background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);/* ç´«è‰²åˆ°è“è‰²çš„æ¸å˜èƒŒæ™¯ï¼Œè§’åº¦135Â° */
      min-height: 100vh;/* æœ€å°é«˜åº¦ä¸ºè§†å£é«˜åº¦ï¼Œç¡®ä¿èƒŒæ™¯é“ºæ»¡å…¨å± */
      display: flex;/* å¼€å¯flexå¼¹æ€§å¸ƒå±€ */
      justify-content: center;/* ä¸»è½´å±…ä¸­ï¼šæ°´å¹³å±…ä¸­ */
      align-items: center;/* äº¤å‰è½´å±…ä¸­ï¼šå‚ç›´å±…ä¸­ */
      padding: 20px;/* ç»™bodyæ·»åŠ å†…è¾¹è·ï¼Œé˜²æ­¢å°å±å¹•æ—¶å†…å®¹è´´è¾¹ */
    }

    .login-container {/* ç™»å½•å¡ç‰‡å®¹å™¨æ ·å¼ */
      width: 100%;/* å®½åº¦å æ»¡çˆ¶å®¹å™¨ */
      max-width: 400px;/* æœ€å¤§å®½åº¦400pxï¼Œé€‚é…å¤§å±ä½†ä¸ä¼šè¿‡å®½ */
      background: rgba(255, 255, 255, 0.95);/* åŠé€ç™½èƒŒæ™¯ï¼Œé€æ˜åº¦0.95ï¼Œè½»å¾®ç£¨ç ‚æ„Ÿ */
      border-radius: 20px;/* 20pxåœ†è§’ï¼Œå¡ç‰‡é£æ ¼ */
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);/* å¤§è€ŒæŸ”å’Œçš„é˜´å½±ï¼šxåç§»0ï¼Œyåç§»20ï¼Œæ¨¡ç³Š40ï¼Œé»‘è‰²åŠé€ */
      overflow: hidden;/* éšè—æº¢å‡ºå†…å®¹ï¼Œä¿è¯åœ†è§’è£åˆ‡æ•ˆæœ */
      backdrop-filter: blur(10px);/* èƒŒæ™¯æ¨¡ç³Š10pxï¼Œå¢å¼ºç£¨ç ‚ç»ç’ƒè´¨æ„Ÿï¼ˆå…¼å®¹ç°ä»£æµè§ˆå™¨ï¼‰ */
    }

    .login-header {/* ç™»å½•å¤´éƒ¨åŒºåŸŸæ ·å¼ */
      background: linear-gradient(135deg, #4CAF50 0%, #2E7D32 100%);/* ç»¿è‰²æ¸å˜ï¼Œæµ…ç»¿åˆ°æ·±ç»¿ï¼Œä½“ç°è®°è´¦åº”ç”¨å¥åº·æ„Ÿ */
      color: white;/* æ–‡å­—é¢œè‰²ä¸ºç™½è‰² */
      padding: 40px 30px;/* ä¸Šä¸‹å†…è¾¹è·40pxï¼Œå·¦å³30px */
      text-align: center;/* æ–‡æœ¬å±…ä¸­ */
    }

    .login-header h1 {/* å¤´éƒ¨ä¸»é¢˜æ ·å¼ */
      font-size: 32px;/* ä¸»æ ‡é¢˜å­—å·32px */
      margin-bottom: 10px;/* åº•éƒ¨å¤–è¾¹è·10pxï¼Œä¸ä¸‹æ–¹pæ ‡ç­¾æ‹‰å¼€è·ç¦» */
      font-weight: 600;/* è‡ªé‡600ï¼ŒåŠç²—ä½“ */
    }

    .login-header p {/* å¤´éƒ¨å‰¯æ ‡é¢˜/æ ‡è¯­æ ·å¼ */
      opacity: 0.9;/* ä¸é€æ˜åº¦0.9ï¼Œè½»å¾®é€æ˜ */
      font-size: 16px;/* å‰¯æ ‡é¢˜å­—å·16px */
    }

    .login-form {/* ç™»å½•è¡¨å•åŒºåŸŸæ ·å¼ */
      padding: 40px 35px;/* è¡¨å•å†…è¾¹è·ï¼šä¸Š40ï¼Œå·¦å³35ï¼Œä¸‹40ï¼Œç´§å‡‘ç¾è§‚ */
    }

    .form-group {/* è¡¨å•é¡¹å®¹å™¨æ ·å¼ï¼šåŒ…å«æ ‡ç­¾ï¼Œè¾“å…¥æ¡†ï¼Œé”™è¯¯æç¤º */
      margin-bottom: 25px;/* æ¯ä¸ªè¡¨å•ç»„åº•éƒ¨é—´è·25px */
    }

    .form-group label {/* è¡¨å•é¡¹æ ‡ç­¾æ ·å¼ */
      display: block;/* å—çº§å…ƒç´ ï¼Œç‹¬å ä¸€è¡Œï¼Œç¡®ä¿æ ‡ç­¾åœ¨ä¸Šæ–¹ */
      margin-bottom: 8px;/* æ ‡ç­¾ä¸è¾“å…¥æ¡†é—´è·8px */
      color: #333;/* æ·±ç°è‰²æ–‡å­—ï¼Œä¿è¯å¯è¯»æ€§ */
      font-weight: 500;/* å­—é‡500ï¼Œä¸­ç­‰ç²—ç»† */
      font-size: 14px;/* æ ‡ç­¾å­—å·14pxï¼Œæ¯”è¾“å…¥æ¡†å°ä¸€ç‚¹ï¼Œä½“ç°å±‚çº§ */
    }

    .input-with-icon {/* å¸¦å›¾æ ‡çš„è¾“å…¥æ¡†å®¹å™¨æ ·å¼ */
      position: relative;/* ç›¸å¯¹å®šä½ï¼Œä¸ºç»å¯¹å®šä½çš„å­å…ƒç´ æä¾›å‚ç…§ */
    }

    .input-with-icon i {/* å¸¦å›¾æ ‡çš„è¾“å…¥æ¡†å®¹å™¨æ ·å¼ */
      position: absolute;/* ç»å¯¹å®šä½ï¼Œç›¸å¯¹äº.input-with-icon */
      left: 15px;/* è·ç¦»å·¦ä¾§15px */
      top: 50%;/* é¡¶éƒ¨è·ç¦»çˆ¶å…ƒç´ 50% */
      transform: translateY(-50%);/* Yè½´å‘ä¸Šç§»åŠ¨è‡ªèº«é«˜åº¦50%ï¼Œå®ç°å‚ç›´å±…ä¸­ */
      color: #4CAF50;/* å›¾æ ‡é¢œè‰²ä¸ºä¸»ç»¿è‰²ï¼Œä¸åº”ç”¨ä¸»è‰²è°ƒç»Ÿä¸€ */
      font-size: 18px;/* å›¾æ ‡å­—å·18pxï¼Œç•¥å¤§äºè¾“å…¥æ¡†æ–‡å­— */
    }

    .form-control {/* è¾“å…¥æ¡†åŸºç¡€æ ·å¼ */
      width: 100%;/* å®½åº¦100%å¡«å……çˆ¶å®¹å™¨ */
      padding: 16px 16px 16px 45px;/* ä¸Š16ï¼Œå³16ï¼Œä¸‹16ï¼Œå·¦45ï¼ˆä¸ºå›¾æ ‡ç•™å‡ºç©ºé—´ï¼‰ */
      border: 2px solid #e0e0e0;/* æµ…ç°è‰²è¾¹æ¡†ï¼Œ2pxå®½åº¦ */
      border-radius: 10px;/* 10pxåœ†è§’ï¼Œç°ä»£æ„Ÿ */
      font-size: 16px;/* è¾“å…¥æ–‡å­—å¤§å°16pxï¼Œé¿å…ç§»åŠ¨ç«¯è‡ªåŠ¨ç¼©æ”¾ */
      transition: all 0.3s ease;/* æ‰€æœ‰å±æ€§å˜åŒ–0.3ç§’ç¼“åŠ¨ï¼Œç”¨äºç„¦ç‚¹è¿‡æ¸¡ */
      background: #f8f9fa;/* æµ…ç°è‰²èƒŒæ™¯ï¼ŒåŒºåˆ†äºçº¯ç™½ï¼ŒæŒ‰æ—¶å¯è¾“å…¥çŠ¶æ€ */
    }

    .form-control:focus {/* è¾“å…¥æ¡†ç„¦ç‚¹çŠ¶æ€æ ·å¼ */
      outline: none;/* ç§»é™¤æµè§ˆå™¨é»˜è®¤çš„ç„¦ç‚¹å¤–åœˆè½®å»“ */
      border-color: #4CAF50;/* è¾¹æ¡†å˜ä¸ºç»¿è‰²ï¼Œæç¤ºç„¦ç‚¹çŠ¶æ€ */
      background: white;/* èƒŒæ™¯å˜ä¸ºçº¯ç™½ï¼Œå¢å¼ºè§†è§‰åé¦ˆ */
      box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.1);/* å¤–å‘å…‰æ•ˆæœï¼š0åç§»0æ¨¡ç³Šï¼Œ3pxæ‰©å±•ï¼ŒåŠé€ç»¿ */
    }

    .login-btn {/* ç™»å½•/æ³¨å†ŒæŒ‰é’®æ ·å¼ */
      width: 100%;/* å®½åº¦100%å¡«å…… */
      padding: 18px;/* å†…è¾¹è·18pxï¼Œè®©æŒ‰é’®æ›´é¥±æ»¡ */
      background: linear-gradient(135deg, #4CAF50 0%, #2E7D32 100%);/* åŒå¤´éƒ¨ä¸€è‡´çš„ç»¿è‰²æ¸å˜ï¼Œä¿æŒå“ç‰Œç»Ÿä¸€ */
      color: white;/* æ–‡å­—ç™½è‰² */
      border: none;/* æ— è¾¹æ¡† */
      border-radius: 10px;/* 10pxåœ†è§’ï¼Œä¸è¾“å…¥æ¡†ç»Ÿä¸€ */
      font-size: 18px;/* æŒ‰é’®å­—å·18pxï¼Œç•¥å¤§äºæ™®é€šæ–‡å­— */
      font-weight: 600;/* å­—é‡600ï¼ŒåŠç²— */
      cursor: pointer;/* é¼ æ ‡æ‚¬åœä¸ºæ‰‹å‹ï¼Œæç¤ºå¯ç‚¹å‡» */
      transition: all 0.3s ease;/* ç¼“åŠ¨è¿‡åº¦æ•ˆæœ */
      margin-top: 10px;/* é¡¶éƒ¨å¤–è¾¹è·10pxï¼Œä¸ä¸Šé¢è¡¨å•é¡¹ç•™ç™½ */
    }

    .login-btn:hover {/* æŒ‰é’®æ‚¬åœçŠ¶æ€æ ·å¼ */
      transform: translateY(-2px);/* æ‚¬åœæ—¶å‘ä¸Šå¹³ç§»2pxï¼Œå¾®åŠ¨æ•ˆ */
      box-shadow: 0 10px 25px rgba(76, 175, 80, 0.3);/* é˜´å½±å¢å¼ºï¼Œæ›´çªå‡º */
    }

    .login-btn:active {/* æŒ‰é’®ç‚¹å‡»çŠ¶æ€æ ·å¼ */
      transform: translateY(0);/* ç‚¹å‡»æ—¶æ¢å¤åŸä½ï¼Œæ¨¡æ‹ŸæŒ‰ä¸‹å›å¼¹ */
    }

    .form-footer {/* è¡¨å•åº•éƒ¨é“¾æ¥åŒºåŸŸæ ·å¼ */
      text-align: center;/* æ–‡æœ¬å±…ä¸­ */
      margin-top: 30px;/* é¡¶éƒ¨å¤–è¾¹è·30pxï¼Œä¸ä¸Šæ–¹åˆ†éš” */
      padding-top: 25px;/* é¡¶éƒ¨å†…è¾¹è·25pxï¼Œä¸ºåˆ†å‰²çº¿ç•™ç©ºé—´ */
      border-top: 1px solid #eee;/* æµ…ç°è‰²ä¸Šè¾¹æ¡†ä½œä¸ºåˆ†å‰²çº¿ */
    }

    .form-footer a {/* åº•éƒ¨é“¾æ¥æ–‡å­—æ ·å¼ */
      color: #4CAF50;/* é“¾æ¥æ–‡å­—ä¸ºç»¿è‰² */
      text-decoration: none;/* ç§»é™¤ä¸‹åˆ’çº¿ */
      font-size: 14px;/* å­—å·14px */
      margin: 0 10px;/* å·¦å³å¤–è¾¹è·10pxï¼Œé—´éš”å¼€ */
    }

    .form-footer a:hover {/* åº•éƒ¨é“¾æ¥æ‚¬åœæ ·å¼ */
      text-decoration: underline;/* æ‚¬åœæ—¶æ·»åŠ ä¸‹åˆ’çº¿ï¼Œæç¤ºå¯ç‚¹å‡» */
    }

    .error-message {/* é”™è¯¯æç¤ºä¿¡æ¯æ ·å¼ */
      color: #f44336;/* é”™è¯¯æç¤ºæ–‡å­—é¢œè‰²ï¼šçº¢è‰² */
      font-size: 14px;/* å­—å·14px */
      margin-top: 8px;/* é¡¶éƒ¨å¤–è¾¹è·8pxï¼Œä¸è¾“å…¥æ¡†åˆ†ç¦» */
      display: none;/* é»˜è®¤éšè—ï¼Œä»…åœ¨æœ‰é”™è¯¯çš„æ—¶å€™æ˜¾ç¤º */
    }

    .demo-credentials {/* æ¼”ç¤ºå‡­æ®æç¤ºæ¡†æ ·å¼ */
      background: #f0f9f0;/* æµ…ç»¿èƒŒæ™¯ï¼ŒæŸ”å’Œæç¤º */
      padding: 15px;/* å†…è¾¹è·15px */
      border-radius: 10px;/* 10pxåœ†è§’ */
      margin-top: 20px;/* é¡¶éƒ¨å¤–è¾¹è·20pxï¼Œä¸ç™»å½•æŒ‰é’®åˆ†ç¦» */
      font-size: 14px;/* å­—å·14px */
      color: #2E7D32;/* æ·±ç»¿è‰²æ–‡å­— */
      border: 1px solid #c8e6c9;/* æµ…ç»¿è‰²è¾¹æ¡† */
    }

    .demo-credentials p {/* æ¼”ç¤ºå‡­æ®å†…çš„æ®µè½æ ·å¼ */
      margin: 5px 0;/* ä¸Šä¸‹å¤–è¾¹è·5pxï¼Œè¡Œé—´ç´§å‡‘ */
    }

    @media (max-width: 480px) {/* å“åº”å¼è®¾è®¡ï¼šæ‰‹æœºç«–å±é€‚é… */
      .login-container {/* ç™»å½•å¡ç‰‡å®¹å™¨æ ·å¼ */
        margin: 20px;/* æ·»åŠ å¤–è¾¹è·ï¼Œé˜²æ­¢å¡ç‰‡è´´è¾¹ */
      }

      .login-form {/* ç™»å½•è¡¨å•åŒºåŸŸæ ·å¼ */
        padding: 30px 25px;/* å‡å°å†…è¾¹è·ï¼Œé€‚åº”å°å± */
      }

      .login-header {/* ç™»å½•å¤´éƒ¨åŒºåŸŸæ ·å¼ */
        padding: 30px 20px;/* å‡å°å¤´éƒ¨å†…è¾¹è· */
      }
    }
  </style>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"><!-- Font Awesome 6.0 å›¾æ ‡åº“ï¼Œç”¨äºæ˜¾ç¤ºç”¨æˆ·ã€é”ã€åŠ è½½åŠ¨ç”»ç­‰å›¾æ ‡ -->
</head>
<body>
<div class="login-container"><!-- ç™»å½•å¡ç‰‡å®¹å™¨ -->
  <div class="login-header"><!-- å¤´éƒ¨åŒºåŸŸï¼šåº”ç”¨åç§°ä¸æ ‡è¯­ -->
    <h1>ç¾Šæ°è®°è´¦</h1>
    <p>ç®€å•ã€æ™ºèƒ½çš„ä¸ªäººè®°è´¦å·¥å…·</p>
  </div>

  <form class="login-form" id="loginForm"><!-- ç™»å½•è¡¨å•ï¼šidç”¨äºJavaScriptæ“ä½œï¼Œmethodé»˜è®¤ä¸ºGETï¼ŒperventDefaultä¼šé˜»æ­¢é»˜è®¤æäº¤ -->
    <div class="form-group"><!-- ç”¨æˆ·åè¡¨å•é¡¹å®¹å™¨ -->
      <label for="username">ç”¨æˆ·å</label><!-- forå±æ€§å…³è”è¾“å…¥æ¡†idï¼Œç‚¹å‡»æ ‡ç­¾èšç„¦è¾“å…¥æ¡† -->
      <div class="input-with-icon"><!-- å¸¦å›¾æ ‡çš„è¾“å…¥æ¡†å®¹å™¨ -->
        <i class="fas fa-user"></i><!-- Font Awesomeç”¨æˆ·å›¾æ ‡ -->
        <input type="text" id="username" class="form-control"
               placeholder="è¯·è¾“å…¥ç”¨æˆ·å" required autofocus><!-- requiredå±æ€§ï¼šæµè§ˆå™¨è‡ªå¸¦éç©ºéªŒè¯ï¼ˆä½†ä¸»è¦ç”¨JSï¼‰ï¼›autofocusï¼šé¡µé¢åŠ è½½æ—¶è‡ªåŠ¨èšç„¦åˆ°æ­¤è¾“å…¥æ¡† -->
      </div>
      <div class="error-message" id="usernameError"></div><!-- ç”¨æˆ·åé”™è¯¯æç¤ºå®¹å™¨ï¼Œåˆå§‹éšè”½ -->
    </div>

    <div class="form-group"><!-- å¯†ç è¡¨å•é¡¹å®¹å™¨ -->
      <label for="password">å¯†ç </label>
      <div class="input-with-icon"><!-- å¸¦å›¾æ ‡çš„è¾“å…¥æ¡†å®¹å™¨ -->
        <i class="fas fa-lock"></i><!-- é”å›¾æ ‡ -->
        <input type="password" id="password" class="form-control"
               placeholder="è¯·è¾“å…¥å¯†ç " required><!-- type="password" è¾“å…¥å†…å®¹ä»¥åœ†ç‚¹æ©ç æ˜¾ç¤º -->
      </div>
      <div class="error-message" id="passwordError"></div><!-- å¯†ç é”™è¯¯æç¤ºå®¹å™¨ -->
    </div>

    <button type="submit" class="login-btn"><!-- ç™»å½•/æ³¨å†ŒæŒ‰é’®ï¼Œæäº¤è¡¨å•æ—¶ä¼šè§¦å‘JSéªŒè¯å’Œå­˜å‚¨é€»è¾‘ -->
      <i class="fas fa-sign-in-alt"></i> ç™»å½• / æ³¨å†Œ <!-- ç™»å½•å›¾æ ‡ï¼Œæ–‡å­—æç¤ºæ­¤æŒ‰é’®å…¼å…·ç™»å½•å’Œæ³¨å†ŒåŠŸèƒ½ -->
    </button>

    <div class="demo-credentials"><!-- æ¼”ç¤ºå‡­æ®æç¤ºåŒºåŸŸï¼Œå‘ç”¨æˆ·å±•ç¤ºç¤ºä¾‹è´¦æˆ· -->
      <p>âœ¨ é¦–æ¬¡ç™»é™†è¯·ç‚¹å‡»ç«‹å³æ³¨å†Œè®¾ç½®æ–°ç”¨æˆ· </p>
      <p>ğŸ“ ç¤ºä¾‹ï¼šç”¨æˆ·ï¼šcaiyihong å¯†ç ï¼š123456</p>
    </div>

    <div class="form-footer"><!-- è¡¨å•åº•éƒ¨é“¾æ¥åŒºåŸŸ -->
      <a href="register.html">ç«‹å³æ³¨å†Œ</a><!-- é“¾æ¥åˆ°æ³¨å†Œé¡µé¢ï¼ˆå ä½ï¼‰ -->
      <span style="color: #cccccc;">|</span><!-- åˆ†éš”ç¬¦ï¼Œç°è‰²ç«–çº¿ -->
      <a href="#" onclick="forgotPassword()">å¿˜è®°å¯†ç </a><!-- ç‚¹å‡»è°ƒç”¨JSå‡½æ•°forgotPassword -->
      <span style="color: #ccc;">|</span>
      <a href="#" onclick="guestLogin()">æ¸¸å®¢ä½“éªŒ</a><!-- ç‚¹å‡»è°ƒç”¨JSå‡½æ•°guestLogin -->
    </div>
  </form>
</div>

<script>
  // ç™»å½•è¡¨å•æäº¤å¤„ç†å‡½æ•°-ç›‘å¬è¡¨å•çš„submitäº‹ä»¶
  document.getElementById('loginForm').addEventListener('submit', function(e) {
    e.preventDefault();// é˜»æ­¢è¡¨å•çš„é»˜è®¤æäº¤è¡Œä¸ºï¼ˆåˆ·æ–°é¡µé¢ï¼‰ï¼Œæ”¹ä¸ºç”±JSå¤„ç†

    const username = document.getElementById('username').value.trim();// è·å–ç”¨æˆ·åå¹¶å»é™¤é¦–å°¾ç©ºæ ¼
    const password = document.getElementById('password').value.trim();// è·å–å¯†ç å¹¶å»é™¤ç©ºæ ¼ï¼ˆå¯†ç é€šå¸¸ä¸åº”å«é¦–å°¾ç©ºæ ¼ï¼Œä½†ç”¨æˆ·å¯èƒ½è¯¯è§¦ï¼‰
    let isValid = true;// è¡¨å•æ•´ä½“æ˜¯å¦æœ‰æ•ˆæ ‡è¯†ï¼Œåˆå§‹ä¸ºtrue

    // æ¸…é™¤ä¹‹å‰çš„é”™è¯¯ä¿¡æ¯
    document.getElementById('usernameError').style.display = 'none';
    document.getElementById('passwordError').style.display = 'none';

    // éªŒè¯ç”¨æˆ·å
    if (!username) {// ç”¨æˆ·åä¸ºç©º
      document.getElementById('usernameError').textContent = 'è¯·è¾“å…¥ç”¨æˆ·å';// è®¾ç½®é”™è¯¯æ–‡æœ¬
      document.getElementById('usernameError').style.display = 'block';// æ˜¾ç¤ºé”™è¯¯æ¶ˆæ¯
      isValid = false;// æ ‡è®°éªŒè¯å¤±è´¥
    } else if (username.length < 3) {// ç”¨æˆ·åé•¿åº¦å°äº3å­—ç¬¦
      document.getElementById('usernameError').textContent = 'ç”¨æˆ·åè‡³å°‘3ä¸ªå­—ç¬¦';
      document.getElementById('usernameError').style.display = 'block';// æ˜¾ç¤ºé”™è¯¯æ¶ˆæ¯
      isValid = false;//æ ‡è®°éªŒè¯å¤±è´¥
    }

    // éªŒè¯å¯†ç 
    if (!password) {// å¯†ç ä¸ºç©º
      document.getElementById('passwordError').textContent = 'è¯·è¾“å…¥å¯†ç ';
      document.getElementById('passwordError').style.display = 'block';
      isValid = false;
    } else if (password.length < 6) {// å¯†ç é•¿åº¦å°äº6
      document.getElementById('passwordError').textContent = 'å¯†ç è‡³å°‘6ä¸ªå­—ç¬¦';
      document.getElementById('passwordError').style.display = 'block';
      isValid = false;
    }

    // å¦‚æœå‰ç«¯éªŒè¯é€šè¿‡
    if (isValid) {
      // æ˜¾ç¤ºåŠ è½½çŠ¶æ€ï¼šä¿®æ”¹æŒ‰é’®æ–‡å­—ï¼Œç¦ç”¨æŒ‰é’®é˜²æ­¢é‡å¤æäº¤
      const loginBtn = document.querySelector('.login-btn');// è·å–ç™»å½•æŒ‰é’®å…ƒç´ 
      const originalText = loginBtn.innerHTML;// ä¿å­˜åŸå§‹æŒ‰é’®HTMLå†…å®¹ï¼Œç”¨äºåç»­æ¢å¤
      loginBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> ç™»å½•ä¸­...';// æ”¹ä¸ºåŠ è½½åŠ¨ç”»å’Œâ€œç™»å½•ä¸­â€æ–‡å­—
      loginBtn.disabled = true;// ç¦ç”¨æŒ‰é’®ï¼Œé˜²æ­¢äºŒæ¬¡ç‚¹å‡»

      // æ¨¡æ‹Ÿç½‘ç»œè¯·æ±‚å»¶è¿Ÿ-å®é™…å¼€å‘å¯æ›¿æ¢ä¸ºçœŸå®çš„Ajaxè¯·æ±‚
      setTimeout(() => {
        // è·å–æœ¬åœ°å­˜å‚¨çš„ç”¨æˆ·æ•°æ®
        const users = JSON.parse(localStorage.getItem('accountingUsers') || '[]');// ä»localStorageè·å–'accountingUsers'é”®ï¼Œå¦‚æœä¸å­˜åœ¨åˆ™åˆå§‹åŒ–ä¸ºç©ºæ•°ç»„ï¼ŒJSON.parseè§£æå­—ç¬¦ä¸²ä¸ºå¯¹è±¡
        const existingUser = users.find(u => u.username === username); // æŸ¥æ‰¾ç”¨æˆ·åæ˜¯å¦å·²å­˜åœ¨

        if (existingUser) {
          // éªŒè¯å¯†ç 
          if (existingUser.password !== password) {
            alert('å¯†ç é”™è¯¯ï¼');// å¼¹å‡ºé”™è¯¯æç¤º
            loginBtn.innerHTML = originalText;// æ¢å¤æŒ‰é’®åŸå§‹æ–‡å­—
            loginBtn.disabled = false;// å¯ç”¨æŒ‰é’®
            return;// ç»ˆæ­¢åç»­æ‰§è¡Œ
          }
        } else {
          // æ–°ç”¨æˆ·æ³¨å†Œ
          users.push({// ä¸å­˜åœ¨ç”¨æˆ·ï¼šè§†ä¸ºæ–°ç”¨æˆ·æ³¨å†Œï¼Œå°†ç”¨æˆ·åå’Œå¯†ç å­˜å…¥ç”¨æˆ·æ•°ç»„
            username: username,// ç”¨æˆ·å
            password: password,// å¯†ç ï¼ˆå®é™…é¡¹ç›®åº”åŠ å¯†å­˜å‚¨ï¼Œæ­¤å¤„ä»…ä¸ºæ•™å­¦æ¼”ç¤ºï¼‰
            createdAt: new Date().toISOString()// æ³¨å†Œæ—¶é—´ï¼ŒISOæ ¼å¼å­—ç¬¦ä¸²
          });
          localStorage.setItem('accountingUsers', JSON.stringify(users));// å°†æ›´æ–°åçš„æ•°ç»„å­˜å›localStorage
          alert(`æ¬¢è¿ ${username}ï¼æ³¨å†ŒæˆåŠŸï¼`);// æ³¨å†ŒæˆåŠŸæç¤º
        }

        // å­˜å‚¨å½“å‰ç”¨æˆ·ç™»å½•çŠ¶æ€
        localStorage.setItem('currentUser', JSON.stringify({
          username: username,// å½“å‰ç™»å½•çš„ç”¨æˆ·å
          loginTime: new Date().toISOString()// ç™»å½•æ—¶é—´
        }));

        // åˆå§‹åŒ–ç”¨æˆ·çš„è®°è´¦æ•°æ®ï¼ˆå¦‚æœæ–°ç”¨æˆ·ï¼‰
        if (!localStorage.getItem(`accountingData_${username}`)) {
          localStorage.setItem(`accountingData_${username}`, JSON.stringify([]));
        }

        // è·³è½¬åˆ°ä¸»é¡µé¢ï¼Œæ¨¡æ‹Ÿç™»å½•/æ³¨å†ŒæˆåŠŸåçš„é¡µé¢è·³è½¬
        window.location.href = 'main.html';
      }, 1000);// å»¶è¿Ÿ1000æ¯«ç§’ï¼ˆ1ç§’ï¼‰ï¼Œæ¨¡æ‹Ÿç½‘ç»œå»¶è¿Ÿ
    }
  });

  //å¿«æ·åŠŸèƒ½å‡½æ•°
  function forgotPassword() {// å¿˜è®°å¯†ç åŠŸèƒ½ï¼šç®€å•æç¤ºåå¼•å¯¼é‡æ–°æ³¨å†Œ
    alert('è¯·è”ç³»ç®¡ç†å‘˜é‡ç½®å¯†ç \næˆ–ä½¿ç”¨å…¶ä»–ç”¨æˆ·åé‡æ–°æ³¨å†Œ');
  }

  // æ¸¸å®¢ç™»å½•å‡½æ•°
  function guestLogin() {
    if (confirm('æ¸¸å®¢æ¨¡å¼åŠŸèƒ½æœ‰é™ï¼Œç¡®å®šç»§ç»­å—ï¼Ÿ')) {// ç¡®è®¤å¯¹è¯æ¡†ï¼Œç”¨æˆ·ç¡®è®¤åè¿”å›true
      localStorage.setItem('currentUser', JSON.stringify({// å­˜å‚¨æ¸¸å®¢ç”¨æˆ·ä¿¡æ¯ï¼Œå¸¦æœ‰isGuest:trueæ ‡è¯†
        username: 'guest',// å›ºå®šç”¨æˆ·åguest
        loginTime: new Date().toISOString(),// ç™»å½•æ—¶é—´
        isGuest: true// æ ‡è¯†ä¸ºæ¸¸å®¢
      }));
      window.location.href = 'main.html';// è·³è½¬ä¸»é¡µé¢
    }
  }

  //å›è½¦é”®äº¤äº’å¢å¼º
  document.getElementById('username').addEventListener('keypress', function(e) {
    if (e.key === 'Enter') {// å¦‚æœæŒ‰ä¸‹çš„æ˜¯å›è½¦é”®
      document.getElementById('password').focus();// ç„¦ç‚¹ç§»åˆ°å¯†ç æ¡†
    }
  });

  // å¯†ç è¾“å…¥æ¡†ç›‘å¬é”®ç›˜æŒ‰é”®äº‹ä»¶
  document.getElementById('password').addEventListener('keypress', function(e) {
    if (e.key === 'Enter') {// å¦‚æœæŒ‰ä¸‹çš„æ˜¯å›è½¦é”®
      document.getElementById('loginForm').dispatchEvent(new Event('submit'));// æ‰‹åŠ¨è§¦å‘è¡¨å•çš„submitäº‹ä»¶ï¼Œè¿›è¡Œç™»å½•æ“ä½œ
    }
  });

  //é¡µé¢åŠ è½½æ—¶æ£€æŸ¥æ˜¯å¦å·²ç™»å½•
  window.addEventListener('DOMContentLoaded', function() {
    const currentUser = localStorage.getItem('currentUser'); // è·å–å½“å‰ç”¨æˆ·ç™»å½•ä¿¡æ¯
    if (currentUser) {// å¦‚æœå­˜åœ¨currentUseré”®
      try {
        const user = JSON.parse(currentUser);// å°è¯•è§£æJSON
        if (user.username && user.username !== 'guest') {// å¦‚æœå­˜åœ¨ç”¨æˆ·åï¼Œä¸”ç”¨æˆ·åä¸æ˜¯guestï¼ˆæ­£å¸¸ç™»å½•ç”¨æˆ·ï¼‰
          window.location.href = 'main.html'; //å·²ç™»å½•çŠ¶æ€ï¼Œç›´æ¥è·³è½¬åˆ°ä¸»é¡µé¢ï¼Œé¿å…é‡å¤ç™»å½•
        }
      } catch (e) {// è§£æå¤±è´¥ï¼ˆæ•°æ®æŸåç­‰ï¼‰ï¼Œæ‰“å°é”™è¯¯åˆ°æ§åˆ¶å°ï¼Œåœç•™åœ¨ç™»å½•é¡µè®©ç”¨æˆ·é‡æ–°ç™»å½•
        console.log('è§£æç”¨æˆ·æ•°æ®å¤±è´¥ï¼Œé‡æ–°ç™»å½•');
      }
    }
    console.log('ç¾Šæ°è®°è´¦ç™»å½•é¡µé¢å·²åŠ è½½');// æ§åˆ¶å°è¾“å‡ºæ—¥å¿—ï¼Œè¡¨æ˜é¡µé¢å·²åŠ è½½å®Œæˆï¼Œæ–¹ä¾¿è°ƒè¯•
  });
</script>
</body>
</html>